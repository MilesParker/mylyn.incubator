<?xml version="1.0" encoding="UTF-8"?>
<?eclipse version="3.0"?>
<plugin>

    <extension point="org.eclipse.ui.preferencePages">
      <page 
         name="Sandbox"
         class="org.eclipse.mylar.internal.sandbox.MylarSandboxPreferencePage"
         id="org.eclipse.mylar.java.ui.preferences"
         category="org.eclipse.mylar.ui.preferences">
         <keywordReference id="org.eclipse.mylar.java.keywords"/>
      </page> 
   </extension>
   
   <extension point="org.eclipse.mylar.tasks.ui.actions"> 
      <dynamicPopupMenu
            class="org.eclipse.mylar.internal.context.ui.TaskListHighlighterMenuContributor"
            menuPath="context"/>
   </extension>
   
   <extension
   		point="org.eclipse.ui.keywords">
      <keyword
            label="mylar java"
            id="org.eclipse.mylar.java.keywords"/>
   </extension>

   <extension point="org.eclipse.ui.decorators">
      <decorator
            lightweight="true"
            label="Mylar Sandbox: Interest Level Decorator"
            class="org.eclipse.mylar.internal.sandbox.devtools.InterestDebuggingDecorator"
            state="false"
            id="org.eclipse.mylar.sandbox.ui.decorator.interest">
         <description>
			Appends interest level to nodes
		 </description>
         <enablement>
            <objectClass name="java.lang.Object"/>
         </enablement>
      </decorator>
   </extension>

  	<extension point = "org.eclipse.ui.popupMenus">
     <objectContribution
        id="org.eclipse.mylar.ui.instrospection"
        objectClass="java.lang.Object">
	    <action  
  		  	label="Mylar Sanbox: Introspect Object" 
	  		menubarPath="mylar" 
	  		id="org.eclipse.mylar.sandbox.actions.introspect" 
	  		class="org.eclipse.mylar.internal.sandbox.devtools.IntrospectObjectAction"
	  		enablesFor="1"/>
	 </objectContribution>
	</extension>
  
   <extension
         id="org.eclipse.mylar.web.repository"
         name="Generic web-based access (Advanced)"
         point="org.eclipse.mylar.tasks.ui.repositories">
      <connectorCore
            class="org.eclipse.mylar.internal.sandbox.web.WebRepositoryConnector"
            id="org.eclipse.mylar.web.tasklist.repositories"
            name="Generic web-based repository"
            type="web"/>
      <connectorUi
            brandingIcon="icons/obj16/repository-web.gif"
            class="org.eclipse.mylar.internal.sandbox.web.WebRepositoryUi"
            name="Generic web-based repsoitory UI"
            overlayIcon="icons/obj16/overlay-web.gif"/>
      <externalizer
            class="org.eclipse.mylar.internal.sandbox.web.WebTaskExternalizer" 
            id="org.eclipse.mylar.web.tasklist.externalizer"/>
   </extension>
   <extension
         point="org.eclipse.mylar.tasks.core.templates">
      <repository
            label="Subclipse (IssueZilla)"
            urlNewTask="http://subclipse.tigris.org/issues/enter_bug.cgi?component=subclipse"
            repositoryKind="web"
            urlRepository="http://subclipse.tigris.org/issues/"
            urlTask="http://subclipse.tigris.org/issues/show_bug.cgi?id="
            urlTaskQuery="http://subclipse.tigris.org/issues/buglist.cgi?issue_status=NEW&amp;issue_status=STARTED&amp;issue_status=REOPENED&amp;order=Issue+Number">            
             <attribute 
        	name="taskRegexp" value="&lt;a href=&quot;show_bug.cgi\?id\=(.+?)&quot;&gt;.+?&lt;span class=&quot;summary&quot;&gt;(.+?)&lt;/span&gt;"/>        	
        	</repository>
   <repository
            label="GlasFish (IssueZilla)"
            urlNewTask="https://glassfish.dev.java.net/issues/enter_bug.cgi?issue_type=DEFECT"
            repositoryKind="web"
            urlRepository="https://glassfish.dev.java.net/servlets/ProjectIssues"
            urlTask="https://glassfish.dev.java.net/issues/show_bug.cgi?id="
            urlTaskQuery="https://glassfish.dev.java.net/issues/buglist.cgi?component=glassfish&amp;issue_status=NEW&amp;issue_status=STARTED&amp;issue_status=REOPENED&amp;order=Issue+Number">
            <attribute 
        	name="taskRegexp" value="&lt;a href=&quot;show_bug.cgi\?id\=(.+?)&quot;&gt;.+?&lt;span class=&quot;summary&quot;&gt;(.+?)&lt;/span&gt;"/>        	
        	</repository>
      <repository
            label="Spring Framework (Jira)"
            urlNewTask="http://opensource.atlassian.com/projects/spring/secure/CreateIssue!default.jspa"
            repositoryKind="web"
            urlRepository="http://opensource.atlassian.com/projects/spring/browse/SPR"
            urlTask="http://opensource.atlassian.com/projects/spring/browse/"
            urlTaskQuery="http://opensource.atlassian.com/projects/spring/secure/IssueNavigator.jspa?reset=true&amp;mode=hide&amp;pid=10000&amp;resolution=-1&amp;sorter/field=updated&amp;sorter/order=DESC">
             <attribute 
        	name="taskRegexp" value="&lt;td class=&quot;nav summary&quot;&gt;\s+?&lt;a href=&quot;/projects/spring/browse/(.+?)&quot;.+?&gt;(.+?)&lt;/a&gt;"/>        	
        	</repository>           
      <repository
            label="SpringIDE (Trac)"
            urlNewTask="http://springide.org/project/newticket"
            repositoryKind="web"
            urlRepository="http://springide.org/project/"
            urlTask="http://springide.org/project/ticket/"
            urlTaskQuery="http://springide.org/project/query?status=new&amp;status=assigned&amp;status=reopened&amp;order=id">
             <attribute 
        	name="taskRegexp" value="&lt;td class=&quot;summary&quot;&gt;&lt;a href=&quot;/project/ticket/(.+?)&quot; title=&quot;View ticket&quot;&gt;(.+?)&lt;/a&gt;&lt;/td&gt;"/>        	
        	</repository>  
      <repository
            label="edgewall.org (Trac)"
            urlNewTask="http://trac.edgewall.org/newticket"
            repositoryKind="web"
            urlRepository="http://trac.edgewall.org/"
            urlTask="http://trac.edgewall.org/ticket/"
            urlTaskQuery="http://trac.edgewall.org/query?status=new&amp;status=assigned&amp;status=reopened&amp;order=id">
             <attribute 
        	name="taskRegexp" value="&lt;td class=&quot;summary&quot;&gt;&lt;a href=&quot;/ticket/(.+?)&quot; title=&quot;View ticket&quot;&gt;(.+?)&lt;/a&gt;&lt;/td&gt;"/>        	
        	</repository>             
      <repository
            label="ASM (GForge)"
            urlNewTask="http://forge.objectweb.org/tracker/?func=add&amp;group_id=23&amp;atid=100023"
            repositoryKind="web"
            urlRepository="http://forge.objectweb.org/tracker/?atid=100023&amp;group_id=23"
            urlTask="http://forge.objectweb.org/tracker/index.php?func=detail&amp;group_id=23&amp;atid=100023&amp;aid="
            urlTaskQuery="http://forge.objectweb.org/tracker/?atid=100023&amp;group_id=23">
               <attribute 
        	name="taskRegexp" value="&lt;a class=&quot;tracker&quot; href=&quot;/tracker/index.php\?func=detail&amp;aid=(.+?)&amp;group_id=23&amp;atid=100023&quot;&gt;(.+?)&lt;/a&gt;&lt;/td&gt;"/>        	
        	</repository>  
      <repository
            label="Azureus (SourceForge)"
            urlNewTask="http://sourceforge.net/tracker/?func=add&amp;group_id=84122&amp;atid=575154"
            repositoryKind="web"
            urlRepository="http://sourceforge.net/tracker/?atid=575154&amp;group_id=84122"
            urlTask="http://sourceforge.net/tracker/index.php?func=detail&amp;group_id=84122&amp;atid=575154&amp;aid="
            urlTaskQuery="http://sourceforge.net/tracker/?atid=575154&amp;group_id=84122">
              <attribute 
        	name="taskRegexp" value="&lt;a href=&quot;/tracker/index.php\?func=detail&amp;amp;aid=(.+?)&amp;amp;group_id=84122&amp;amp;atid=575154&quot;&gt;(.+?)&lt;/a&gt;"/>        	
        	</repository>  
      <repository
            label="phpbb.com (phpBB)"
            urlNewTask="http://www.phpbb.com/phpBB/posting.php?mode=newtopic&amp;f=1"
            repositoryKind="web"
            urlRepository="http://www.phpbb.com/phpBB/"
            urlTask="http://www.phpbb.com/phpBB/viewtopic.php?t="
            urlTaskQuery="http://www.phpbb.com/phpBB/viewforum.php?f=1">
              <attribute 
        	name="taskRegexp" value="&lt;a href=&quot;viewtopic.php\?t=(\d+?)(?:&amp;.+?)?&quot; class=&quot;topictitle&quot;&gt;(.+?)&lt;/a&gt;"/>        	
        	</repository>           
      <repository
            label="Spring IDE Forum (vBulletin)"
            urlNewTask="http://forum.springframework.org/newthread.php?do=newthread&amp;f=32"
            repositoryKind="web"
            urlRepository="http://forum.springframework.org/forumdisplay.php?f=32"
            urlTask="http://forum.springframework.org/showthread.php?t="
            urlTaskQuery="http://forum.springframework.org/forumdisplay.php?f=32">
               <attribute 
        	name="taskRegexp" value="&lt;a href=&quot;showthread.php\?.+?t=(\d+?)&quot; id=&quot;thread_title_\1&quot;&gt;(.+?)&lt;/a&gt;"/>        	
        	</repository>            
      <repository
            label="Eclipse Outliner (Google Code)"
            urlNewTask="http://code.google.com/p/eclipse-outliner/issues/entry"
            repositoryKind="web"
            urlRepository="http://code.google.com/p/eclipse-outliner/"
            urlTask="http://code.google.com/p/eclipse-outliner/issues/detail?id="
            urlTaskQuery="http://code.google.com/p/eclipse-outliner/issues/list">
        <attribute name="taskRegexp" 
          value="&lt;td class=&quot;vt col_6&quot; .+?&lt;a href=&quot;detail\?id=(.+?).+?&quot;&gt;(.+?)&lt;/a&gt;.+?&lt;/td&gt;"/>
      </repository>
      <repository
            label="Eclipse Plugin for Mantis (Mantis)"
            urlNewTask="http://www.futureware.biz/mantis/bug_report_page.php"
            repositoryKind="web"
            urlRepository="http://www.futureware.biz/mantis/"
            urlTask="http://www.futureware.biz/mantis/view.php?id="
            urlTaskQuery="http://www.futureware.biz/mantis/view_all_set.php?f=3&amp;type=1&amp;page_number=1&amp;view_type=simple&amp;reporter_id[]=0&amp;user_monitor[]=0&amp;handler_id[]=0&amp;show_category[]=Eclipse+Plugin&amp;show_severity[]=0&amp;show_resolution[]=0&amp;show_profile[]=0&amp;show_status[]=0&amp;hide_status[]=80&amp;show_build[]=0&amp;show_version[]=0&amp;fixed_in_version[]=0&amp;show_priority[]=0&amp;per_page=50&amp;view_state=0&amp;sticky_issues=on&amp;highlight_changed=6&amp;relationship_type=-1&amp;relationship_bug=0&amp;sort_0=last_updated&amp;dir_0=DESC&amp;search=&amp;filter=Apply+Filter&amp;type=3&amp;source_query_id=-1">
        <attribute name="taskRegexp" 
          value="&lt;tr .+?&lt;a href=&quot;view.php\?id=(.+?)&quot;&gt;.+?&lt;td class=&quot;left&quot;&gt;(.+?)&lt;/td&gt;&lt;/tr&gt;"/>
      </repository>
   </extension>  
  
</plugin>


   <!--
   <extension point="org.eclipse.ui.viewActions"> 
   <viewContribution
         id="org.eclipse.mylar.monitor.reports.ui.switchTaskFolder"
         targetID="org.eclipse.mylar.tasks.ui.views.TaskListView">
      <action
            class="org.eclipse.mylar.internal.sandbox.share.SwitchTaskDataFolderAction"
            icon="icons/eview16/folder.gif"
            id="org.eclipse.mylar.monitor.reports.ui.actions.switchTask"
            label="Sandbox: Switch Task Data Folder..."
            menubarPath="context"
            style="push">
      </action>
   </viewContribution>
   </extension>
   -->
   

      <!--
        <provider 
         	markupProviderClass="org.eclipse.mylar.sandbox.viz.MylarJavaMarkupProvider" 
         	name="Mylar Provider" 
         	priority="9" 
         	description="Provider that shows java declarations that are part of a Mylar context for a task." 
         	emptyMessage="No active Mylar context to display" 
         	contentProviderClass="org.eclipse.mylar.sandbox.viz.MylarJavaContentProvider" 
         	id="mylarprovider" />
        -->
        
      
		<!-- This schema works for the older (1.1?) CVS version of the Visualiser from AJDT  
		<provider
		    class="org.eclipse.mylar.sandbox.viz.MylarJavaContentProvider"
		    markupclass="org.eclipse.mylar.sandbox.viz.MylarJavaMarkupProvider"
		    name="Mylar Java Provider"
		    title="Mylar Java Task Context"
		    priority="8"
		    description="Provider that shows java declarations that are part of a Mylar context for a task."
		    emptyMessage="No active Mylar context to display"
		    id="mylarprovider">
		</provider>
		 --> 
  
  <!--
   <extension point = "org.eclipse.ui.popupMenus">
     <objectContribution
        id="org.eclipse.mylar.interest"
        objectClass="org.eclipse.jdt.core.IJavaElement">
        <action id="org.eclipse.mylar.ui.actions.OpenRelatedElementsQuickView" 
              label="Related elements" 
	      	  menubarPath="mylar" 
              icon="icons/eview16/active-search.gif" 
              tooltip="Active Search quick view" 
              class="org.eclipse.mylar.ui.actions.OpenRelatedElementsQuickView" 
              enablesFor="1"/> 
	 </objectContribution>
  </extension>
  -->
